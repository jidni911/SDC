
<div class="cart p-3 bg-light rounded shadow-sm">
  <h3 class="text-center mb-4">Your Cart</h3>

  <div *ngIf="cart && cart.items && cart.items.length>0 ">


    <div class="cart-item border-bottom py-3" *ngFor="let item of cart.items">

      <div class="row align-items-center">
        <!-- Checkbox for Selection -->
        <div class="col-1 text-center">
          <input type="checkbox" />
        </div>
        <!-- Product Image (optional) -->
        <div class="col-3 col-md-2">
          <img src="{{ getProductImgUrlById(item.product_id) }}" alt="{{ item.name }}" class="img-fluid rounded">
        </div>

        <!-- Product Details -->
        <div class="col-8 col-md-5">
          <h5 class="mb-1">{{ item.name }}</h5>
          <p class="mb-1 text-muted">Quantity: {{ item.quantity }}</p>
          <p class="mb-0 small text-muted">Price per unit: ${{ item.price }}</p>
        </div>

        <!-- Product Subtotal and Remove Option -->
        <div class="col-12 col-md-4 text-md-right mt-2 mt-md-0">
          <p class="mb-1 font-weight-bold">Subtotal: ${{ item.price * item.quantity }}</p>
          <!-- <button class="btn btn-outline-danger btn-sm" (click)="removeItem(item)">Remove</button> -->
          <button class="btn btn-outline-danger btn-sm" (click)="removeItem(item.product_id)">Remove</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!cart">
    <p class="text-center text-muted">We couldn't find your cart.</p>
  </div>
  <div *ngIf="!cart?.items">
    <p class="text-center text-muted">We couldn't find items in your cart.</p>
  </div>
  <div *ngIf="!(cart?.items.length>0)">
    <p class="text-center text-muted">there is no item in yout cart</p>
    <p class="text-center">

      <a routerLink="/products" class="btn btn-link">Click here to browse items</a>
    </p>
  </div>
  <!-- Cart Total -->
  <div class="cart-total mt-4 text-right">
    <h4 class="font-weight-bold border-top pt-3" *ngIf="cart && cart.items && cart.items.length>0 ">
      Total: $ {{ getTotal() }}
    </h4>
    <button class="btn btn-success btn-lg mt-2" routerLink="/products/checkout"  *ngIf="cart && cart.items && cart.items.length>0 ">Checkout</button>
  </div>
</div>
