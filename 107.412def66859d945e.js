"use strict";(self.webpackChunkSouthDhakaCyclists=self.webpackChunkSouthDhakaCyclists||[]).push([[107],{1107:(Et,C,p)=>{p.r(C),p.d(C,{ProductsModule:()=>Ht});var u=p(6895),l=p(2019),m=p(5041),g=p(2347),t=p(8256),_=p(610),x=p(529);let b=(()=>{const c=class{constructor(n){this.http=n,this.url=g.N.apiUrl+"/carts"}getCarts(){return this.http.get(this.url)}getCart(){return this.http.get(`${this.url}`)}addToCart(n){return this.http.post(`${this.url}/add/${n}`,"")}setQuantity(n,o){return this.http.get(`${this.url}/setQuantity/${n}/${o}`)}removeFromCart(n){return this.http.delete(`${this.url}/remove`,{params:{itemid:n}})}getCartItems(n){return this.http.get(`${this.url}/items`,{params:{itemIds:n}})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.LFG(x.eN))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),r})();function y(r,c){1&r&&(t.TgZ(0,"div",9)(1,"button",10),t._uU(2,"Add Product"),t.qZA(),t.TgZ(3,"button",11),t._uU(4,"Make a Memo"),t.qZA(),t.TgZ(5,"button",12),t._uU(6,"All memo"),t.qZA()())}function q(r,c){if(1&r&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.price," ")}}function U(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.addToCart(o))}),t._uU(1," Add to Cart "),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("disabled",0==e.quantityAvailable||n.inCart(e.id))}}function k(r,c){1&r&&(t.TgZ(0,"a",31),t._uU(1,"View cart "),t.qZA())}const N=function(r,c){return{"bg-success":r,"bg-danger":c}},J=function(r){return["/products/productDetails",r]};function w(r,c){if(1&r&&(t.TgZ(0,"div",13)(1,"div",14),t._UZ(2,"img",15),t.TgZ(3,"div",16)(4,"h5",17),t._uU(5),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.qZA(),t.TgZ(8,"p",19)(9,"span"),t._uU(10,"Price: "),t.qZA(),t.YNc(11,q,2,1,"span",20),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"p",21)(15,"a",22),t._uU(16),t.qZA()()(),t.TgZ(17,"div",23)(18,"span",24),t._uU(19),t.qZA()(),t.TgZ(20,"div",25),t.YNc(21,U,2,1,"button",26),t.YNc(22,k,2,0,"a",27),t.TgZ(23,"button",28),t._uU(24,"View Details"),t.qZA()()()()),2&r){const e=c.$implicit,n=t.oxw();t.xp6(2),t.s9C("alt",e.name),t.Q6J("src",n.geturlof(e.mainImage.url),t.LSH),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(4),t.Q6J("ngIf",e.discountPrice),t.xp6(2),t.Oqu(e.discountPrice||e.price),t.xp6(2),t.Q6J("routerLink","/products/seller/"+e.seller.id),t.xp6(1),t.hij(" by ",e.seller.fullName,""),t.xp6(2),t.Q6J("ngClass",t.WLB(13,N,"In Stock"===e.stockStatus,"Out of Stock"===e.stockStatus)),t.xp6(1),t.hij(" ",e.stockStatus," "),t.xp6(2),t.Q6J("ngIf",!n.inCart(e.id)),t.xp6(1),t.Q6J("ngIf",n.inCart(e.id)),t.xp6(1),t.Q6J("routerLink",t.VKq(16,J,e.id))}}function S(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,i=t.oxw(2);return t.KtG(i.onPageChange(o))}),t._uU(1),t.qZA()}if(2&r){const e=t.oxw().index;t.xp6(1),t.Oqu(e+1)}}function P(r,c){if(1&r&&(t.TgZ(0,"button",39),t._uU(1),t.qZA()),2&r){const e=t.oxw().index;t.xp6(1),t.Oqu(e+1)}}function I(r,c){if(1&r&&(t.TgZ(0,"span"),t.YNc(1,S,2,1,"button",36),t.YNc(2,P,2,1,"button",37),t.qZA()),2&r){const e=c.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.page.pageable.pageNumber!==e),t.xp6(1),t.Q6J("ngIf",n.page.pageable.pageNumber===e)}}const Q=function(){return[]};function O(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(o.page.pageable.pageNumber-1))}),t._uU(3,"Previous"),t.qZA(),t.YNc(4,I,3,2,"span",35),t.TgZ(5,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(o.page.pageable.pageNumber+1))}),t._uU(6,"Next"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("disabled",0===e.page.pageable.pageNumber),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,Q).constructor(e.page.totalPages)),t.xp6(1),t.Q6J("disabled",e.page.pageable.pageNumber===e.page.totalPages-1)}}let F=(()=>{const c=class{geturlof(n){return g.N.apiUrl+n}isSeller(){return m.y.getRoles().map(n=>n.name).includes("ROLE_SELLER")}constructor(n,o,i){this.productService=n,this.cartService=o,this.router=i,this.products=[],this.cart=null,this.cartItemIds=[]}ngOnInit(){this.loadProducts(0),m.y.getUser()&&this.cartService.getCart().subscribe(n=>{this.cart=n,this.cartItemIds=n.items.map(o=>o.product.id)})}inCart(n){return this.cartItemIds.includes(n)}addToCart(n){m.y.getUser()?this.cartService.addToCart(n.id).subscribe(o=>{this.cart=o,this.cartItemIds=o.items.map(i=>i.product.id)}):this.router.navigateByUrl("/signin")}loadMore(){this.products.forEach(n=>{this.products.push(n)})}generateRandomProduct(){const f=Z=>Z[Math.floor(Math.random()*Z.length)],h=`prod${Math.floor(1e3+9e3*Math.random())}`,A=parseFloat((490*Math.random()+10).toFixed(2)),M=Math.random()>.5?Math.floor(200*Math.random())+1:0,Yt=M>0?"In Stock":"Out of Stock";return{id:h,name:`Product ${h}`,description:`This is a description for ${h}. A high-quality product for cycling enthusiasts.`,category:f(["Bikes","Accessories","Tools","Apparel"]),brand:f(["TrailBlazer","SafeRide","AirMaster","RideComfort","CycleEssentials","BrightPath","CycleWear","SecureRide","ComfortRide","SpeedWear"]),price:A,discountPrice:(Z=A,Math.random()>.5?parseFloat((Z-Math.random()*(.3*Z)).toFixed(2)):null),currency:"USD",stockStatus:Yt,quantityAvailable:M,mainImage:`https://placehold.co/600x400?text=${h}`,galleryImages:[`https://placehold.co/600x400?text=${h}-1`,`https://placehold.co/600x400?text=${h}-2`],dimensions:{height:`${Math.floor(100*Math.random())+10} cm`,width:`${Math.floor(100*Math.random())+10} cm`,depth:`${Math.floor(50*Math.random())+10} cm`},weight:`${(5*Math.random()+1).toFixed(2)} kg`,sellerId:f(["seller01","seller02","seller03","seller04","seller05"])};var Z}search(n){const o=n.target;""!=o.value?this.productService.searchProducts(o.value).subscribe(i=>{this.products=i.content}):this.loadProducts(0)}onPageChange(n){this.loadProducts(n)}loadProducts(n){this.productService.getProducts(n).subscribe(o=>{this.page=o,this.products=o.content})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(_.s),t.Y36(b),t.Y36(l.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-all-products"]],decls:10,vars:3,consts:[[1,"container","my-3"],[1,"d-flex","justify-content-end","mb-3"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2",3,"input"],["class","btn-group",4,"ngIf"],[1,"row"],["class","col-md-3 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-2",4,"ngIf"],[1,"text-center","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"btn-group"],["routerLink","/products/addProduct",1,"btn","btn-outline-success"],["routerLink","/products/shopMemo",1,"btn","btn-outline-success"],["routerLink","/products/allMemo",1,"btn","btn-outline-success"],[1,"col-md-3","mb-4"],[1,"card","h-100"],["width","300px","height","200px",1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],[1,"card-text"],["class","text-decoration-line-through text-danger",4,"ngIf"],[1,"text-end","text-info"],[3,"routerLink"],[1,"card-header","bg-transparent","text-end"],[1,"badge",3,"ngClass"],[1,"card-footer","text-center"],["class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-info btn-sm","routerLink","/products/cart","role","button",4,"ngIf"],[1,"btn","btn-secondary","btn-sm","ms-5",3,"routerLink"],[1,"text-decoration-line-through","text-danger"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],["routerLink","/products/cart","role","button",1,"btn","btn-outline-info","btn-sm"],[1,"d-flex","justify-content-center","mt-2"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-success",3,"disabled","click"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],["type","button","class","btn btn-success","disabled","",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button","disabled","",1,"btn","btn-success"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("input",function(a){return i.search(a)}),t.qZA(),t.YNc(3,y,7,0,"div",3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,w,25,18,"div",5),t.qZA()(),t.YNc(6,O,7,4,"div",6),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){return i.loadMore()}),t._uU(9,"Load More"),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf",i.isSeller()),t.xp6(2),t.Q6J("ngForOf",i.products),t.xp6(1),t.Q6J("ngIf",i.page))},dependencies:[u.mk,u.sg,u.O5,l.rH]}),r})();function H(r,c){if(1&r&&t._UZ(0,"img",21),2&r){const e=c.$implicit,n=t.oxw(2);t.Q6J("src",n.getUrl(e.url),t.LSH)("alt",n.product.name)}}function G(r,c){if(1&r&&(t.TgZ(0,"span",22),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.product.price)," ")}}function j(r,c){1&r&&(t.TgZ(0,"p",23),t._uU(1," This item is already in your cart. "),t.TgZ(2,"a",24),t._uU(3,"View Cart"),t.qZA()())}const L=function(r,c){return{"text-success":r,"text-danger":c}};function Y(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4"),t._uU(5,"Main Image"),t.qZA()(),t._UZ(6,"img",7),t.qZA(),t.TgZ(7,"div",8)(8,"h5",9),t._uU(9,"Gallery Images"),t.qZA(),t.TgZ(10,"div",10),t.YNc(11,H,1,2,"img",11),t.qZA()()(),t.TgZ(12,"div",12)(13,"div",5)(14,"div",6)(15,"h3"),t._uU(16),t.qZA()(),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"p")(21,"strong"),t._uU(22,"Description:"),t.qZA(),t._uU(23),t.qZA()(),t.TgZ(24,"div",15)(25,"p")(26,"strong"),t._uU(27,"Category:"),t.qZA(),t._uU(28),t.qZA(),t.TgZ(29,"p")(30,"strong"),t._uU(31,"Brand:"),t.qZA(),t._uU(32),t.qZA()(),t.TgZ(33,"div",15)(34,"p")(35,"strong"),t._uU(36,"Price:"),t.qZA(),t.YNc(37,G,3,3,"span",16),t.TgZ(38,"span"),t._uU(39),t.ALo(40,"currency"),t.qZA()()(),t.TgZ(41,"div",15)(42,"p")(43,"strong"),t._uU(44,"Stock Status:"),t.qZA(),t.TgZ(45,"span",17),t._uU(46),t.qZA()(),t.TgZ(47,"p")(48,"strong"),t._uU(49,"Quantity Available:"),t.qZA(),t._uU(50),t.qZA()(),t.TgZ(51,"div",15)(52,"p")(53,"strong"),t._uU(54,"Dimensions:"),t.qZA(),t._uU(55),t.qZA()(),t.TgZ(56,"div",15)(57,"p")(58,"strong"),t._uU(59,"Weight:"),t.qZA(),t._uU(60),t.qZA()(),t.TgZ(61,"div",15)(62,"p")(63,"strong"),t._uU(64,"Seller ID:"),t.qZA(),t._uU(65),t.qZA()(),t.TgZ(66,"div",15)(67,"p")(68,"strong"),t._uU(69,"Added Date:"),t.qZA(),t._uU(70),t.qZA(),t.TgZ(71,"p")(72,"strong"),t._uU(73,"Origin:"),t.qZA(),t._uU(74),t.qZA()()(),t.TgZ(75,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addToCart())}),t._uU(76," Add to Cart "),t.qZA(),t.YNc(77,j,4,0,"p",19),t.TgZ(78,"a",20),t._uU(79,"Edit "),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(6),t.s9C("alt",e.product.name),t.Q6J("src",e.getUrl(e.product.mainImage.url),t.LSH),t.xp6(5),t.Q6J("ngForOf",e.product.galleryImages),t.xp6(5),t.Oqu(e.product.name),t.xp6(7),t.hij(" ",e.product.description,""),t.xp6(5),t.hij(" ",e.product.category,""),t.xp6(4),t.hij(" ",e.product.brand,""),t.xp6(5),t.Q6J("ngIf",e.product.discountPrice),t.xp6(2),t.Oqu(t.lcZ(40,22,e.product.discountPrice||e.product.price)),t.xp6(6),t.Q6J("ngClass",t.WLB(24,L,"In Stock"===e.product.stockStatus,"Out of Stock"===e.product.stockStatus)),t.xp6(1),t.hij(" ",e.product.stockStatus," "),t.xp6(4),t.hij(" ",e.product.quantityAvailable,""),t.xp6(5),t.lnq(" ",(null==e.product.dimensions?null:e.product.dimensions.height)||"N/A"," x ",(null==e.product.dimensions?null:e.product.dimensions.width)||"N/A"," x ",(null==e.product.dimensions?null:e.product.dimensions.depth)||"N/A"," "),t.xp6(5),t.hij(" ",e.product.weight,""),t.xp6(5),t.hij(" ",e.product.sellerId,""),t.xp6(5),t.hij(" ",e.product.addedDate,""),t.xp6(4),t.hij(" ",e.product.origin,""),t.xp6(1),t.Q6J("disabled",0==e.product.quantityAvailable||e.inCart),t.xp6(2),t.Q6J("ngIf",e.inCart),t.xp6(1),t.MGl("routerLink","/products/card/",e.product.id,"")}}function E(r,c){1&r&&(t.TgZ(0,"div",25)(1,"h2",26),t._uU(2,"Product not found"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"The product you are looking for does not exist or has been removed."),t.qZA()())}let K=(()=>{const c=class{constructor(n,o,i,s){this.route=n,this.productService=o,this.cartService=i,this.router=s,this.productId=null,this.product=null,this.cart=null,this.inCart=!1}ngOnInit(){this.productId=this.route.snapshot.paramMap.get("id"),this.productService.getProduct(this.productId).subscribe(n=>{this.product=n,m.y.getUser()&&this.cartService.getCart().subscribe(o=>{this.cart=o,this.cart.items.map(s=>s.product.id).includes(Number(this.productId))&&(this.inCart=!0)})})}addToCart(){m.y.getUser()?this.cartService.addToCart(this.product.id).subscribe(n=>{this.cart=n,this.cart.items.map(i=>i.product.id).includes(Number(this.productId))&&(this.inCart=!0)}):this.router.navigateByUrl("/signin")}getStars(n){const o=Math.floor(n),i=n%1!=0?1:0,s=5-o-i;return"\u2605".repeat(o)+(i?"\u2606":"")+"\u2605".repeat(s)}getUrl(n){return g.N.apiUrl+n}canEdit(){let n=m.y.getUser();return!(!n||"dev"!=n.role&&this.product.seller.id!=n.id)}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(l.gz),t.Y36(_.s),t.Y36(b),t.Y36(l.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-product-details"]],decls:3,vars:2,consts:[[1,"container","my-4"],["class","row g-4",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"row","g-4"],[1,"col-md-4"],[1,"card","shadow-sm"],[1,"card-header","bg-info","text-white","text-center"],[1,"card-img-top","img-fluid","rounded",3,"src","alt"],[1,"mt-3"],[1,"text-info"],[1,"d-flex","flex-wrap","justify-content-center"],["class","img-thumbnail me-2 mb-2","style","width: 75px; height: 75px; object-fit: cover;",3,"src","alt",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"card-body"],[1,"row"],[1,"col-lg-6","mb-3"],["class","text-decoration-line-through text-danger me-2",4,"ngIf"],[3,"ngClass"],[1,"btn","btn-info","btn-lg","mt-3",3,"disabled","click"],["class","text-warning mt-2",4,"ngIf"],["role","button",1,"btn","btn-outline-warning",3,"routerLink"],[1,"img-thumbnail","me-2","mb-2",2,"width","75px","height","75px","object-fit","cover",3,"src","alt"],[1,"text-decoration-line-through","text-danger","me-2"],[1,"text-warning","mt-2"],["routerLink","/products/cart","role","button",1,"btn","btn-info"],[1,"text-center"],[1,"text-danger"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Y,80,27,"div",1),t.YNc(2,E,5,0,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.product),t.xp6(1),t.Q6J("ngIf",!i.product))},dependencies:[u.mk,u.sg,u.O5,l.rH,u.H9]}),r})();var d=p(433);function D(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"input",13),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateSelectedTotal())}),t.qZA()(),t.TgZ(4,"div",14),t._UZ(5,"img",15),t.qZA(),t.TgZ(6,"div",16)(7,"div",17)(8,"h5",18),t._uU(9),t.qZA(),t.TgZ(10,"small",19),t._uU(11," by"),t.qZA(),t.TgZ(12,"a",20),t._uU(13),t.qZA()(),t.TgZ(14,"div",21),t._uU(15," Quantity: "),t.TgZ(16,"div",22)(17,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.decreaseQuantity(i))}),t._UZ(18,"i",24),t.qZA(),t.TgZ(19,"input",25),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.quantity=o)})("change",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.setQuantity(i.id,i.quantity))}),t.qZA(),t.TgZ(20,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.increaseQuantity(i))}),t._UZ(21,"i",26),t.qZA()()(),t.TgZ(22,"p",21),t._uU(23),t.qZA(),t.TgZ(24,"p",27),t._uU(25),t.qZA()(),t.TgZ(26,"div",28)(27,"p",29),t._uU(28),t.qZA(),t.TgZ(29,"button",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeItem(i.id))}),t._uU(30,"Remove"),t.qZA()()()()}if(2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(3),t.s9C("id",e.id),t.xp6(2),t.s9C("src",n.getUrlof(e.product.mainImage.url),t.LSH),t.s9C("alt",e.name),t.xp6(4),t.hij("",e.product.name," "),t.xp6(3),t.MGl("routerLink","/products/seller/",e.product.seller.id,""),t.xp6(1),t.hij(" ",e.product.seller.fullName," "),t.xp6(6),t.s9C("max",e.product.quantity),t.Q6J("ngModel",e.quantity),t.xp6(4),t.hij("Stock: ",e.product.quantity,""),t.xp6(2),t.hij("Price per unit: ",e.product.discountPrice,""),t.xp6(3),t.hij("Subtotal: ",e.product.discountPrice*e.quantity,"")}}function $(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,D,31,11,"div",6),t._UZ(2,"div",7),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.markAll())}),t._uU(4," Mark All "),t.qZA(),t.TgZ(5,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.markNone())}),t._uU(6," Mark None "),t.qZA(),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeSelectedItems())}),t._uU(8," Delete Selected "),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cart.items)}}function B(r,c){1&r&&(t.TgZ(0,"div")(1,"p",31),t._uU(2,"We couldn't find your cart."),t.qZA()())}function R(r,c){1&r&&(t.TgZ(0,"div")(1,"p",31),t._uU(2,"We couldn't find items in your cart."),t.qZA()())}function z(r,c){1&r&&(t.TgZ(0,"div")(1,"p",31),t._uU(2,"there is no item in yout cart"),t.qZA(),t.TgZ(3,"p",32)(4,"a",33),t._uU(5,"Click here to browse items"),t.qZA()()())}function X(r,c){if(1&r&&(t.TgZ(0,"div",34)(1,"h4",35),t._uU(2),t.qZA(),t.TgZ(3,"h4",35),t._uU(4),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij("Selected Total: ",e.selectedTotal,""),t.xp6(2),t.hij("Cart Total: ",e.getTotal(),"")}}function V(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkout())}),t._uU(1,"Checkout"),t.qZA()}}let W=(()=>{const c=class{constructor(n,o,i){this.router=n,this.cartService=o,this.ps=i,this.selectedTotal=0,this.cart=null}ngOnInit(){m.y.getUser()||this.router.navigateByUrl("/signin"),this.cartService.getCart().subscribe(n=>{this.cart=n})}getTotal(){return this.cart.items.reduce((n,o)=>n+o.product.discountPrice*o.quantity,0)}updateSelectedTotal(){let n=document.querySelectorAll('input[type="checkbox"]:checked'),o=Array.from(n).map(i=>Number(i.id));this.selectedTotal=this.cart.items.reduce((i,s)=>o.includes(s.id)?i+s.product.discountPrice*s.quantity:i,0)}removeItem(n){this.cartService.removeFromCart(n).subscribe(o=>{this.ngOnInit()})}getUrlof(n){return g.N.apiUrl+n}increaseQuantity(n){n.product.quantity<=n.quantity||this.setQuantity(n.id,n.quantity+1)}decreaseQuantity(n){n.quantity>1&&this.setQuantity(n.id,n.quantity-1)}setQuantity(n,o){this.cartService.setQuantity(n,o).subscribe(i=>{this.cart=i})}removeSelectedItems(){let n=[];document.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.checked&&n.push(o.id)}),this.cartService.removeFromCart(n).subscribe(()=>{this.ngOnInit()})}checkout(){let n=[];document.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.checked&&n.push(o.id)}),n.length>0&&this.router.navigate(["/products/checkout"],{queryParams:{ids:n.join(",")}})}markAll(){document.querySelectorAll('input[type="checkbox"]').forEach(n=>{n.checked=!0}),this.updateSelectedTotal()}markNone(){document.querySelectorAll('input[type="checkbox"]').forEach(n=>{n.checked=!1}),this.updateSelectedTotal()}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(l.F0),t.Y36(b),t.Y36(_.s))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-cart"]],decls:10,vars:6,consts:[[1,"cart","p-3","rounded","shadow-sm"],[1,"text-center","mb-4"],[4,"ngIf"],[1,"cart-total","mt-4","text-right"],["class","d-flex justify-content-between border-top pt-3",4,"ngIf"],["class","btn btn-success btn-lg mt-2",3,"click",4,"ngIf"],["class","cart-item border-bottom py-3",4,"ngFor","ngForOf"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],[1,"cart-item","border-bottom","py-3"],[1,"row","align-items-center"],[1,"col-1","text-center"],["type","checkbox",3,"id","input"],[1,"col-3","col-md-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-8","col-md-5"],[1,"d-flex","align-items-center"],[1,"mb-1"],[1,"text-muted","ms-2"],[1,"text-muted","ms-2",3,"routerLink"],[1,"mb-1","text-muted"],[1,"input-group","input-group-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-dash-circle"],["type","number","min","1",1,"form-control",3,"max","ngModel","ngModelChange","change"],[1,"bi","bi-plus-circle"],[1,"mb-0","small","text-muted"],[1,"col-12","col-md-4","text-md-right","mt-2","mt-md-0"],[1,"mb-1","font-weight-bold"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"text-center","text-muted"],[1,"text-center"],["routerLink","/products",1,"btn","btn-link"],[1,"d-flex","justify-content-between","border-top","pt-3"],[1,"font-weight-bold"],[1,"btn","btn-success","btn-lg","mt-2",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Your Cart"),t.qZA(),t.YNc(3,$,9,1,"div",2),t.YNc(4,B,3,0,"div",2),t.YNc(5,R,3,0,"div",2),t.YNc(6,z,6,0,"div",2),t.TgZ(7,"div",3),t.YNc(8,X,5,2,"div",4),t.YNc(9,V,2,0,"button",5),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf",i.cart&&i.cart.items&&i.cart.items.length>0),t.xp6(1),t.Q6J("ngIf",!i.cart),t.xp6(1),t.Q6J("ngIf",!(null!=i.cart&&i.cart.items)),t.xp6(1),t.Q6J("ngIf",!((null==i.cart?null:i.cart.items.length)>0)),t.xp6(2),t.Q6J("ngIf",i.cart&&i.cart.items&&i.cart.items.length>0),t.xp6(1),t.Q6J("ngIf",i.cart&&i.cart.items&&i.cart.items.length>0))},dependencies:[u.sg,u.O5,l.rH,d.Fj,d.wV,d.JJ,d.qQ,d.Fd,d.On],styles:[".cart[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80px;object-fit:cover}.cart-total[_ngcontent-%COMP%]{border-top:2px solid #e9ecef}.btn[_ngcontent-%COMP%]{border-radius:20px}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}"]}),r})();var T=p(574);function tt(r,c){if(1&r&&(t.TgZ(0,"li",60)(1,"div"),t._UZ(2,"img",61),t.qZA(),t.TgZ(3,"div")(4,"h6",59),t._uU(5),t.qZA(),t.TgZ(6,"small",30),t._uU(7),t.qZA()(),t.TgZ(8,"span",30),t._uU(9),t.qZA()()),2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.s9C("src",n.apiUrl+e.product.mainImage.url,t.LSH),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.hij("quantity : ",e.quantity,""),t.xp6(2),t.hij("$ ",(e.product.discountPrice||e.product.price)*e.quantity,"")}}function et(r,c){if(1&r&&(t.TgZ(0,"ul",55),t.YNc(1,tt,10,4,"li",56),t.TgZ(2,"li",57)(3,"div",58)(4,"h6",59),t._uU(5,"Promo code"),t.qZA(),t.TgZ(6,"small"),t._uU(7,"Coming Soon"),t.qZA()(),t.TgZ(8,"span",58),t._uU(9,"\u2212$0"),t.qZA()(),t.TgZ(10,"li",57)(11,"span"),t._uU(12,"Total (USD)"),t.qZA(),t.TgZ(13,"strong"),t._uU(14),t.qZA()()()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cartItems),t.xp6(13),t.hij("$ ",e.getTotal(),"")}}function nt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",62)(1,"div",63)(2,"label",64),t._uU(3,"Payment Number"),t.qZA(),t.TgZ(4,"input",21),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.paymentNumber=o)}),t.qZA(),t.TgZ(5,"div",22),t._uU(6," Payment number is required "),t.qZA()(),t.TgZ(7,"div",63)(8,"label",65),t._uU(9,"Transaction ID"),t.qZA(),t.TgZ(10,"input",21),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.transactionId=o)}),t.qZA(),t.TgZ(11,"div",22),t._uU(12," Transaction ID is required "),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.paymentNumber),t.xp6(6),t.Q6J("ngModel",e.transactionId)}}let ot=(()=>{const c=class{constructor(n,o,i){this.cs=n,this.orderS=o,this.router=i,this.apiUrl=g.N.apiUrl,this.user=m.y.getUser(),this.name=this.user.fullName,this.phoneNumber=this.user.phoneNumber,this.userName=this.user.username,this.email=this.user.email,this.phone=this.user.phone,this.address=this.user.address,this.paymentMethod="bkash",this.paymentNumber=this.user.phoneNumber,this.transactionId="abcyzx",this.promoCode="",this.list=[],this.cartItems=[]}ngOnInit(){this.router.url.split("?")[1].split("&").forEach(n=>{"ids"===n.split("=")[0]&&(this.list=n.split("=")[1].split(","))}),this.cs.getCartItems(this.list).subscribe(n=>{this.cartItems=n})}getTotal(){return this.cartItems.reduce((n,o)=>n+(o.product.discountPrice||o.product.price)*o.quantity,0)}onSubmit(){let n={name:this.name,phoneNumber:this.phoneNumber,userName:this.userName,email:this.email,phone:this.phone,address:this.address,paymentMethod:this.paymentMethod,paymentNumber:this.paymentNumber,transactionId:this.transactionId,orderItemIds:this.list.map(o=>+o)};this.orderS.createOrder(n).subscribe(o=>{const i=new Blob([o],{type:"text/html"}),s=window.URL.createObjectURL(i),a=document.createElement("iframe");a.style.display="none",a.src=s,document.body.appendChild(a),a.contentWindow?.print(),window.URL.revokeObjectURL(s),this.router.navigateByUrl("/products")})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(b),t.Y36(T.N),t.Y36(l.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-checkout"]],decls:105,vars:16,consts:[[1,""],[1,"container"],[1,"py-5","text-center"],["src","assets/logo/logo1.png","alt","","width","100","height","100",1,"d-block","mx-auto","mb-4","bg-light","rounded-pill"],[1,"lead"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],["class","list-group mb-3",4,"ngIf"],[1,"card","p-2"],[1,"input-group"],["type","text","placeholder","Promo code","disabled","",1,"form-control"],["type","submit","disabled","",1,"btn","btn-secondary"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation"],[1,"row","g-3"],[1,"col-sm-12"],["for","firstName",1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","phoneNumber",1,"form-label"],["type","tel",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"col-12"],["for","username",1,"form-label"],[1,"input-group","has-validation"],[1,"input-group-text"],["for","email",1,"form-label"],[1,"text-muted"],["type","email","placeholder","you@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","address",1,"form-label"],["type","text","placeholder","1234 Main St","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","address2",1,"form-label"],["type","text","id","address2","placeholder","Apartment or suite",1,"form-control"],[1,"my-4"],[1,"my-3","d-flex","justify-content-around"],[1,"form-check"],["id","bkash","name","paymentMethod","type","radio","value","bkash",1,"form-check-input",3,"ngModel","ngModelChange"],["for","bkash",1,"form-check-label"],["alt","","height","30",3,"src"],["id","nagad","name","paymentMethod","type","radio","value","nagad",1,"form-check-input",3,"ngModel","ngModelChange"],["for","nagad",1,"form-check-label"],["id","rocket","name","paymentMethod","type","radio","value","rocket",1,"form-check-input",3,"ngModel","ngModelChange"],["for","rocket",1,"form-check-label"],["id","cashOnDelivery","name","paymentMethod","type","radio","value","cashOnDelivery",1,"form-check-input",3,"ngModel","ngModelChange"],["for","cashOnDelivery",1,"form-check-label"],["class","row gy-3",4,"ngIf"],["type","button",1,"w-100","btn","btn-primary","btn-lg",3,"click"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],[1,"text-success"],[1,"my-0"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],["alt","","height","50",3,"src"],[1,"row","gy-3"],[1,"col-md-6"],["for","paymentNumber",1,"form-label"],["for","transactionId",1,"form-label"]],template:function(o,i){1&o&&(t.TgZ(0,"body",0)(1,"div",1)(2,"main")(3,"div",2),t._UZ(4,"img",3),t.TgZ(5,"h2"),t._uU(6,"Checkout form"),t.qZA(),t.TgZ(7,"p",4),t._uU(8,"Please fill out the form below to complete your purchase. All fields marked with an asterisk (*) are required."),t.qZA()(),t.TgZ(9,"div",5)(10,"div",6)(11,"h4",7)(12,"span",8),t._uU(13,"Your cart"),t.qZA(),t.TgZ(14,"span",9),t._uU(15),t.qZA()(),t.YNc(16,et,15,2,"ul",10),t.TgZ(17,"form",11)(18,"div",12),t._UZ(19,"input",13),t.TgZ(20,"button",14),t._uU(21,"Redeem"),t.qZA()()()(),t.TgZ(22,"div",15)(23,"h4",16),t._uU(24,"Billing address"),t.qZA(),t.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"label",20),t._uU(29," Name"),t.qZA(),t.TgZ(30,"input",21),t.NdJ("ngModelChange",function(a){return i.name=a}),t.qZA(),t.TgZ(31,"div",22),t._uU(32," Valid first name is required. "),t.qZA()(),t.TgZ(33,"div",19)(34,"label",23),t._uU(35,"Phone Number"),t.qZA(),t.TgZ(36,"input",24),t.NdJ("ngModelChange",function(a){return i.phoneNumber=a})("input",function(){return i.paymentNumber=i.phoneNumber}),t.qZA(),t.TgZ(37,"div",22),t._uU(38," Valid phone number is required. "),t.qZA()(),t.TgZ(39,"div",25)(40,"label",26),t._uU(41,"Username"),t.qZA(),t.TgZ(42,"div",27)(43,"span",28),t._uU(44,"@"),t.qZA(),t.TgZ(45,"input",21),t.NdJ("ngModelChange",function(a){return i.userName=a}),t.qZA(),t.TgZ(46,"div",22),t._uU(47," Your username is required. "),t.qZA()()(),t.TgZ(48,"div",25)(49,"label",29),t._uU(50,"Email "),t.TgZ(51,"span",30),t._uU(52,"(Optional)"),t.qZA()(),t.TgZ(53,"input",31),t.NdJ("ngModelChange",function(a){return i.email=a}),t.qZA(),t.TgZ(54,"div",22),t._uU(55," Please enter a valid email address for shipping updates. "),t.qZA()(),t.TgZ(56,"div",25)(57,"label",32),t._uU(58,"Address"),t.qZA(),t.TgZ(59,"input",33),t.NdJ("ngModelChange",function(a){return i.address=a}),t.qZA(),t.TgZ(60,"div",22),t._uU(61," Please enter your shipping address. "),t.qZA()(),t.TgZ(62,"div",25)(63,"label",34),t._uU(64,"Address 2 "),t.TgZ(65,"span",30),t._uU(66,"(Optional)"),t.qZA()(),t._UZ(67,"input",35),t.qZA()(),t._UZ(68,"hr",36),t.TgZ(69,"h4",16),t._uU(70,"Payment"),t.qZA(),t.TgZ(71,"div",37)(72,"div",38)(73,"input",39),t.NdJ("ngModelChange",function(a){return i.paymentMethod=a}),t.qZA(),t.TgZ(74,"label",40),t._UZ(75,"img",41),t.qZA()(),t.TgZ(76,"div",38)(77,"input",42),t.NdJ("ngModelChange",function(a){return i.paymentMethod=a}),t.qZA(),t.TgZ(78,"label",43),t._UZ(79,"img",41),t.qZA()(),t.TgZ(80,"div",38)(81,"input",44),t.NdJ("ngModelChange",function(a){return i.paymentMethod=a}),t.qZA(),t.TgZ(82,"label",45),t._UZ(83,"img",41),t.qZA()(),t.TgZ(84,"div",38)(85,"input",46),t.NdJ("ngModelChange",function(a){return i.paymentMethod=a}),t.qZA(),t.TgZ(86,"label",47),t._UZ(87,"img",41),t.qZA()()(),t.YNc(88,nt,13,2,"div",48),t._UZ(89,"hr",36),t.TgZ(90,"button",49),t.NdJ("click",function(){return i.onSubmit()}),t._uU(91," Place Order "),t.qZA()()()()(),t.TgZ(92,"footer",50)(93,"p",51),t._uU(94,"\xa9 2017\u20132023 SDC"),t.qZA(),t.TgZ(95,"ul",52)(96,"li",53)(97,"a",54),t._uU(98,"Privacy"),t.qZA()(),t.TgZ(99,"li",53)(100,"a",54),t._uU(101,"Terms"),t.qZA()(),t.TgZ(102,"li",53)(103,"a",54),t._uU(104,"Support"),t.qZA()()()()()()),2&o&&(t.xp6(15),t.hij(" ",i.cartItems.length||0,""),t.xp6(1),t.Q6J("ngIf",i.cartItems.length>0),t.xp6(14),t.Q6J("ngModel",i.name),t.xp6(6),t.Q6J("ngModel",i.phoneNumber),t.xp6(9),t.Q6J("ngModel",i.userName),t.xp6(8),t.Q6J("ngModel",i.email),t.xp6(6),t.Q6J("ngModel",i.address),t.xp6(14),t.Q6J("ngModel",i.paymentMethod),t.xp6(2),t.Q6J("src","assets/icons/bkash.png",t.LSH),t.xp6(2),t.Q6J("ngModel",i.paymentMethod),t.xp6(2),t.Q6J("src","assets/icons/nagad.png",t.LSH),t.xp6(2),t.Q6J("ngModel",i.paymentMethod),t.xp6(2),t.Q6J("src","assets/icons/rocket.png",t.LSH),t.xp6(2),t.Q6J("ngModel",i.paymentMethod),t.xp6(2),t.Q6J("src","assets/icons/cod.png",t.LSH),t.xp6(1),t.Q6J("ngIf","cashOnDelivery"!=i.paymentMethod))},dependencies:[u.sg,u.O5,d._Y,d.Fj,d._,d.JJ,d.JL,d.Q7,d.On,d.F],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.container[_ngcontent-%COMP%]{max-width:960px}"]}),r})();var it=p(8320),rt=p(6658);function ct(r,c){if(1&r&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function st(r,c){if(1&r&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&r){const e=c.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function at(r,c){if(1&r&&t._UZ(0,"img",52),2&r){const e=c.$implicit,n=t.oxw();t.s9C("src",n.apiUrl+e.url,t.LSH),t.MGl("id","previewImage",e.id,"")}}let dt=(()=>{const c=class{fillDemoData(){this.name="Demo Product",this.description="Demo Product Description",this.category="Electronics",this.brand="Demo Brand",this.price=1e3,this.discountPrice=900,this.stockStatus="In Stock",this.quantity=1e3,this.mainImage="",this.mainImageUrl="https://placehold.co/300x300?text=Main+Image",this.galleryImages=[],this.dimensions="90x90x90",this.weight=10,this.tags="demo, product",this.origin="Jinjira",this.features="demo f, product d"}constructor(n,o,i,s){this.productsService=n,this.usersService=o,this.router=i,this.filesService=s,this.name="",this.description="",this.category="",this.brand="",this.price=0,this.discountPrice=0,this.stockStatus="",this.quantity=0,this.mainImage="",this.mainImageUrl="https://placehold.co/300x300?text=Main+Image",this.galleryImages=[],this.dimensions="",this.weight=0,this.tags="",this.origin="",this.features="",this.apiUrl=g.N.apiUrl,this.categories=["Electronics","Clothing","Home & Garden","Beauty & Personal Care","Sports & Outdoors","Toys & Games","Baby Products","Pet Products","Arts, Crafts & Sewing","Automotive","Industrial & Scientific"],this.stockStatuses=["In Stock","Out of Stock","Preorder","Backorder"],this.logo="/assets/logo/logo1.png"}ngOnInit(){m.y.getUser()||this.router.navigateByUrl("/signin");let n=m.y.getUser();this.logo=g.N.apiUrl+n.profilePicture.url}handleMainImage(n){const o=n.target,i=o.files?.[0];i&&this.filesService.uploadImage(i).subscribe(s=>{const a=g.N.apiUrl+s.url;setTimeout(()=>{this.mainImageUrl=a},1e3),this.mainImage=s.id,o.value=""})}handleGalleryImages(n){const o=n.target,i=o.files;if(i){for(let s=0;s<i.length;s++)this.filesService.uploadImage(i[s]).subscribe(a=>{setTimeout(()=>{this.galleryImages.push(a)},1e3)});o.value=""}}onSubmit(){const n={name:this.name,description:this.description,category:this.category,brand:this.brand,price:this.price,discountPrice:this.discountPrice,stockStatus:this.stockStatus,quantity:this.quantity,mainImageId:this.mainImage,galleryImagesId:this.galleryImages.map(o=>o.id),dimensions:this.dimensions,weight:this.weight.toString(),tags:this.tags.split(",").map(o=>o.trim()),origin:this.origin,features:this.features.split(",").map(o=>o.trim())};this.productsService.createProduct(n).subscribe(o=>{console.log(o),this.router.navigateByUrl("/products")})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(_.s),t.Y36(it.f),t.Y36(l.F0),t.Y36(rt.n))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-add-products"]],decls:109,vars:18,consts:[[1,"my-5"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"card","shadow-lg","p-4"],[1,"text-warning","mb-4"],["alt","","height","50px",1,"me-2",3,"src"],[1,"row"],[1,"col-6"],[1,"border","rounded","card","p-0","h-100"],[1,"text-center","p-2","card-header","bg-info"],[1,"card-body"],[1,"form-group"],["for","name"],["type","text","id","name","required","","placeholder","Enter product name",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["id","description","required","","placeholder","Enter product description",1,"form-control",3,"ngModel","ngModelChange"],["for","category"],["id","category","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","brand"],["type","text","id","brand","required","","placeholder","Enter brand name",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],["type","number","id","price","required","","placeholder","Enter product price",1,"form-control",3,"ngModel","ngModelChange"],["for","discountPrice"],["type","number","id","discountPrice","placeholder","Enter discount price (optional)",1,"form-control",3,"ngModel","ngModelChange"],["for","stockStatus"],["id","stockStatus","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","quantity"],["type","number","id","quantity","required","","placeholder","Enter product quantity",1,"form-control",3,"ngModel","ngModelChange"],["for","dimensions"],["type","text","id","dimensions","placeholder","Enter product dimensions",1,"form-control",3,"ngModel","ngModelChange"],["for","weight"],["type","text","id","weight","placeholder","Enter product weight",1,"form-control",3,"ngModel","ngModelChange"],["for","tags"],["type","text","id","tags","placeholder","Enter product tags",1,"form-control",3,"ngModel","ngModelChange"],["for","origin"],["type","text","id","origin","placeholder","Enter product origin",1,"form-control",3,"ngModel","ngModelChange"],["for","features"],["type","text","id","features","placeholder","Enter product features",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","card-header","p-2","bg-info"],[1,"card-body","py-3"],[1,"text-center","mb-3"],["id","previewImage","height","250px","alt","",1,"rounded",3,"src"],["type","file","id","mainImage","accept","image/*",1,"form-control",3,"change"],[1,"d-flex","justify-content-around","my-3"],["src","https://placehold.co/300x300?text=Optional+Image","id","previewImage","height","125px","alt","",1,"rounded"],["class","rounded","height","125px","alt","",3,"src","id",4,"ngFor","ngForOf"],["type","file","id","galleryImages","multiple","","accept","image/*",1,"form-control",3,"change"],[1,"btn","btn-primary","btn-block","mt-4",3,"click"],[1,"btn","btn-info","btn-block","mt-4",3,"click"],[3,"value"],["height","125px","alt","",1,"rounded",3,"src","id"]],template:function(o,i){1&o&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3",4)(6,"span"),t._UZ(7,"img",5),t.qZA(),t._uU(8," Add Product "),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"h4",9),t._uU(13,"Product Details"),t.qZA(),t.TgZ(14,"div",10)(15,"div",11)(16,"label",12),t._uU(17,"Name"),t.qZA(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(a){return i.name=a}),t.qZA()(),t.TgZ(19,"div",11)(20,"label",14),t._uU(21,"Description"),t.qZA(),t.TgZ(22,"textarea",15),t.NdJ("ngModelChange",function(a){return i.description=a}),t.qZA()(),t.TgZ(23,"div",6)(24,"div",7)(25,"div",11)(26,"label",16),t._uU(27,"Category"),t.qZA(),t.TgZ(28,"select",17),t.NdJ("ngModelChange",function(a){return i.category=a}),t.TgZ(29,"option",18),t._uU(30,"Choose a category"),t.qZA(),t.YNc(31,ct,2,2,"option",19),t.qZA()()(),t.TgZ(32,"div",7)(33,"div",11)(34,"label",20),t._uU(35,"Brand"),t.qZA(),t.TgZ(36,"input",21),t.NdJ("ngModelChange",function(a){return i.brand=a}),t.qZA()()()(),t.TgZ(37,"div",6)(38,"div",7)(39,"div",11)(40,"label",22),t._uU(41,"Price"),t.qZA(),t.TgZ(42,"input",23),t.NdJ("ngModelChange",function(a){return i.price=a}),t.qZA()()(),t.TgZ(43,"div",7)(44,"div",11)(45,"label",24),t._uU(46,"Discount Price"),t.qZA(),t.TgZ(47,"input",25),t.NdJ("ngModelChange",function(a){return i.discountPrice=a}),t.qZA()()()(),t.TgZ(48,"div",6)(49,"div",7)(50,"div",11)(51,"label",26),t._uU(52,"Stock Status"),t.qZA(),t.TgZ(53,"select",27),t.NdJ("ngModelChange",function(a){return i.stockStatus=a}),t.TgZ(54,"option",18),t._uU(55,"Choose stock status"),t.qZA(),t.YNc(56,st,2,2,"option",19),t.qZA()()(),t.TgZ(57,"div",7)(58,"div",11)(59,"label",28),t._uU(60,"Quantity"),t.qZA(),t.TgZ(61,"input",29),t.NdJ("ngModelChange",function(a){return i.quantity=a}),t.qZA()()()(),t.TgZ(62,"div",6)(63,"div",7)(64,"div",11)(65,"label",30),t._uU(66,"Dimensions"),t.qZA(),t.TgZ(67,"input",31),t.NdJ("ngModelChange",function(a){return i.dimensions=a}),t.qZA()()(),t.TgZ(68,"div",7)(69,"div",11)(70,"label",32),t._uU(71,"Weight"),t.qZA(),t.TgZ(72,"input",33),t.NdJ("ngModelChange",function(a){return i.weight=a}),t.qZA()()()(),t.TgZ(73,"div",6)(74,"div",7)(75,"div",11)(76,"label",34),t._uU(77,"Tags"),t.qZA(),t.TgZ(78,"input",35),t.NdJ("ngModelChange",function(a){return i.tags=a}),t.qZA()()(),t.TgZ(79,"div",7)(80,"div",11)(81,"label",36),t._uU(82,"Origin"),t.qZA(),t.TgZ(83,"input",37),t.NdJ("ngModelChange",function(a){return i.origin=a}),t.qZA()()()(),t.TgZ(84,"div",11)(85,"label",38),t._uU(86,"Features"),t.qZA(),t.TgZ(87,"input",39),t.NdJ("ngModelChange",function(a){return i.features=a}),t.qZA()()()()(),t.TgZ(88,"div",7)(89,"div",8)(90,"h4",40),t._uU(91,"Product Images"),t.qZA(),t.TgZ(92,"div",41)(93,"div",42),t._UZ(94,"img",43),t.qZA(),t.TgZ(95,"div",11)(96,"input",44),t.NdJ("change",function(a){return i.handleMainImage(a)}),t.qZA()(),t.TgZ(97,"div",45),t._UZ(98,"img",46)(99,"img",46)(100,"img",46),t.qZA(),t.TgZ(101,"div",45),t.YNc(102,at,1,2,"img",47),t.qZA(),t.TgZ(103,"div",11)(104,"input",48),t.NdJ("change",function(a){return i.handleGalleryImages(a)}),t.qZA()()()()()(),t.TgZ(105,"button",49),t.NdJ("click",function(){return i.onSubmit()}),t._uU(106,"Add Product"),t.qZA(),t.TgZ(107,"button",50),t.NdJ("click",function(){return i.fillDemoData()}),t._uU(108,"Fill Demo Data"),t.qZA()()()()()()),2&o&&(t.xp6(7),t.Q6J("src",i.logo,t.LSH),t.xp6(11),t.Q6J("ngModel",i.name),t.xp6(4),t.Q6J("ngModel",i.description),t.xp6(6),t.Q6J("ngModel",i.category),t.xp6(3),t.Q6J("ngForOf",i.categories),t.xp6(5),t.Q6J("ngModel",i.brand),t.xp6(6),t.Q6J("ngModel",i.price),t.xp6(5),t.Q6J("ngModel",i.discountPrice),t.xp6(6),t.Q6J("ngModel",i.stockStatus),t.xp6(3),t.Q6J("ngForOf",i.stockStatuses),t.xp6(5),t.Q6J("ngModel",i.quantity),t.xp6(6),t.Q6J("ngModel",i.dimensions),t.xp6(5),t.Q6J("ngModel",i.weight),t.xp6(6),t.Q6J("ngModel",i.tags),t.xp6(5),t.Q6J("ngModel",i.origin),t.xp6(4),t.Q6J("ngModel",i.features),t.xp6(7),t.s9C("src",i.mainImageUrl,t.LSH),t.xp6(8),t.Q6J("ngForOf",i.galleryImages))},dependencies:[u.sg,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.Q7,d.On]}),r})(),ut=(()=>{const c=class{constructor(n){this.activatedRoute=n,this.sellerid=null}ngOnInit(){this.sellerid=this.activatedRoute.snapshot.paramMap.get("id")}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(l.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-seller"]],decls:2,vars:1,template:function(o,i){1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij("Comming soon with ",i.sellerid,""))}}),r})();function lt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td",12)(2,"a",13),t._UZ(3,"img",14),t.TgZ(4,"ul",15)(5,"li")(6,"strong",16),t._uU(7,"Product Name:"),t.qZA(),t.TgZ(8,"span",17),t._uU(9),t.qZA()(),t.TgZ(10,"li")(11,"strong",16),t._uU(12,"Brand:"),t.qZA(),t.TgZ(13,"span",18),t._uU(14),t.qZA()(),t.TgZ(15,"li")(16,"strong",16),t._uU(17,"Origin:"),t.qZA(),t.TgZ(18,"span",19),t._uU(19),t.qZA()()()()(),t.TgZ(20,"td")(21,"input",9),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.price=o)}),t.qZA(),t._uU(22," discount Price:"),t.TgZ(23,"span",19),t._uU(24),t.qZA(),t._uU(25," regular Price:"),t.TgZ(26,"span",17),t._uU(27),t.qZA()(),t.TgZ(28,"td")(29,"input",9),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.quantity=o)}),t.qZA(),t._uU(30," Available Quantity:"),t.TgZ(31,"span",17),t._uU(32),t.qZA()(),t.TgZ(33,"td"),t._uU(34),t.ALo(35,"currency"),t.qZA(),t.TgZ(36,"td")(37,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeItem(i))}),t._uU(38,"Remove"),t.qZA()()()}if(2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.MGl("routerLink","/products/productDetails/",e.product.id,""),t.xp6(1),t.s9C("src",n.apiUrl+e.product.mainImage.url,t.LSH),t.xp6(6),t.Oqu(e.product.name),t.xp6(5),t.Oqu(e.product.brand),t.xp6(5),t.Oqu(e.product.origin),t.xp6(2),t.Q6J("ngModel",e.price),t.xp6(3),t.Oqu(e.product.discountPrice),t.xp6(3),t.hij(" ",e.product.price," "),t.xp6(2),t.Q6J("ngModel",e.quantity),t.xp6(3),t.hij(" ",e.product.quantity," "),t.xp6(2),t.Oqu(t.lcZ(35,11,e.price*e.quantity))}}function pt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.addProduct(i))}),t._UZ(1,"img",24),t._uU(2),t.qZA()}if(2&r){const e=c.$implicit,n=t.oxw(3);t.xp6(1),t.s9C("src",n.apiUrl+e.mainImage.url,t.LSH),t.xp6(1),t.gL8(" ",e.name,", brand : ",e.brand,", origin: ",e.origin,", price: ",e.price," discount Price: ",e.discountPrice," , Quantity: ",e.quantity," ")}}function gt(r,c){if(1&r&&(t.TgZ(0,"ul",21),t.YNc(1,pt,3,7,"li",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.suggestedProducts)}}function mt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2,"Order Memo"),t.qZA(),t.TgZ(3,"div",2)(4,"p")(5,"strong"),t._uU(6,"Order ID:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"h4"),t._uU(9,"Customer Details"),t.qZA(),t.TgZ(10,"p")(11,"strong"),t._uU(12,"Name:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16,"Phone:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Email:"),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p")(23,"strong"),t._uU(24,"Address:"),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"p")(27,"strong"),t._uU(28,"Payment Method:"),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"p")(31,"strong"),t._uU(32,"Transaction ID:"),t.qZA(),t._uU(33),t.qZA()(),t.TgZ(34,"div",3)(35,"h4"),t._uU(36,"Order Items"),t.qZA(),t.TgZ(37,"table",4)(38,"thead")(39,"tr")(40,"th"),t._uU(41,"Product"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Price"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Quantity"),t.qZA(),t.TgZ(46,"th"),t._uU(47,"Subtotal"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Action"),t.qZA()()(),t.TgZ(50,"tbody"),t.YNc(51,lt,39,13,"tr",5),t.qZA()()(),t.TgZ(52,"div",3)(53,"h4"),t._uU(54,"Add Product"),t.qZA(),t.TgZ(55,"input",6),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.suggestProduct(o))}),t.qZA(),t.YNc(56,gt,2,1,"ul",7),t.qZA(),t.TgZ(57,"div",8)(58,"h4"),t._uU(59,"Billing Summary"),t.qZA(),t.TgZ(60,"p")(61,"strong"),t._uU(62,"Subtotal:"),t.qZA(),t._uU(63),t.ALo(64,"currency"),t.qZA(),t.TgZ(65,"p")(66,"strong"),t._uU(67,"Service Charge:"),t.qZA(),t.TgZ(68,"input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.serviceCharge=o)}),t.qZA()(),t.TgZ(69,"p")(70,"strong"),t._uU(71,"Delivery Charge:"),t.qZA(),t.TgZ(72,"input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.deliveryCharge=o)}),t.qZA()(),t.TgZ(73,"p")(74,"strong"),t._uU(75,"Discount:"),t.qZA(),t.TgZ(76,"input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.discount=o)}),t.qZA()(),t.TgZ(77,"h4")(78,"strong"),t._uU(79,"Total: "),t.qZA(),t._uU(80),t.ALo(81,"currency"),t.qZA()(),t.TgZ(82,"div",10)(83,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmOrderAndPrint())}),t._uU(84,"Confirm And Print Order"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(7),t.hij(" ",e.order.id,""),t.xp6(6),t.hij(" ",e.order.name,""),t.xp6(4),t.hij(" ",e.order.phoneNumber,""),t.xp6(4),t.hij(" ",e.order.email,""),t.xp6(4),t.hij(" ",e.order.address,""),t.xp6(4),t.hij(" ",e.order.paymentMethod,""),t.xp6(4),t.hij(" ",e.order.transactionId,""),t.xp6(18),t.Q6J("ngForOf",e.orderItems),t.xp6(5),t.Q6J("ngIf",e.suggestedProducts.length>0),t.xp6(7),t.hij(" ",t.lcZ(64,14,e.getSubtotal()),""),t.xp6(5),t.Q6J("ngModel",e.serviceCharge),t.xp6(4),t.Q6J("ngModel",e.deliveryCharge),t.xp6(4),t.Q6J("ngModel",e.discount),t.xp6(4),t.hij(" ",t.lcZ(81,16,e.getTotal()),"")}}let _t=(()=>{const c=class{constructor(n,o,i){this.route=n,this.orderService=o,this.productService=i,this.apiUrl=g.N.apiUrl,this.orderItems=[],this.suggestedProducts=[],this.serviceCharge=50,this.deliveryCharge=100,this.discount=0}ngOnInit(){this.orderitemId=this.route.snapshot.paramMap.get("id"),console.log(this.orderitemId),this.orderitemId&&this.orderService.getMemo(this.orderitemId).subscribe(n=>{this.orderItems=n,this.order=n[0].order,console.log(n)})}getSubtotal(){return this.orderItems.reduce((n,o)=>n+o.price*o.quantity,0)}getTotal(){return this.getSubtotal()+this.serviceCharge+this.deliveryCharge-this.discount}removeItem(n){this.orderItems=this.orderItems.filter(o=>o!==n)}suggestProduct(n){const o=n.target.value;o.length<2?this.suggestedProducts=[]:this.productService.searchSellerProducts(o).subscribe(i=>{this.suggestedProducts=i.content,console.log(i)})}addProduct(n){this.orderItems.push({product:n,price:n.discountPrice||n.price,quantity:1}),this.suggestedProducts=[]}confirmOrderAndPrint(){this.orderService.confirmOrder(this.orderItems,this.serviceCharge,this.deliveryCharge,this.discount).subscribe(n=>{const o=new Blob([n],{type:"text/html"}),i=window.URL.createObjectURL(o),s=document.createElement("iframe");s.style.display="none",s.src=i,document.body.appendChild(s),s.contentWindow?.print(),window.URL.revokeObjectURL(i)})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(l.gz),t.Y36(T.N),t.Y36(_.s))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-memo"]],decls:1,vars:1,consts:[["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[1,"card","p-3"],[1,"mt-4"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["type","text","placeholder","Search product...",1,"form-control",3,"input"],["class","list-group mt-2",4,"ngIf"],[1,"mt-4","card","p-3"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4","text-end"],[1,"btn","btn-success","me-2",3,"click"],[2,"display","flex","align-items","center"],[1,"d-flex","align-items-center","text-decoration-none",3,"routerLink"],["alt","","width","60","height","60",2,"margin-right","10px",3,"src"],[1,"list-unstyled","mb-0"],[1,"text-primary"],[1,"text-success"],[1,"text-warning"],[1,"text-danger"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"list-group","mt-2"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["alt","","width","50","height","50",3,"src"]],template:function(o,i){1&o&&t.YNc(0,mt,85,18,"div",0),2&o&&t.Q6J("ngIf",i.order&&i.orderItems)},dependencies:[u.sg,u.O5,l.rH,d.Fj,d.wV,d.JJ,d.On,u.H9]}),r})();function ht(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",31),t._UZ(1,"img",32),t.TgZ(2,"button",33),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeGalleryImage(i))}),t._uU(3,"Remove"),t.qZA()()}if(2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("src",n.apiUrl+e.url,t.LSH)}}function Zt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",31)(1,"span",34),t._uU(2),t.qZA(),t.TgZ(3,"button",35),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeFeature(i))}),t._uU(4,"X"),t.qZA()()}if(2&r){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function bt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",31)(1,"span",36),t._uU(2),t.qZA(),t.TgZ(3,"button",35),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeTag(i))}),t._uU(4,"X"),t.qZA()()}if(2&r){const e=c.$implicit;t.xp6(2),t.Oqu(e)}}function ft(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2,"Edit Product"),t.qZA(),t.TgZ(3,"form")(4,"div",2)(5,"h4"),t._uU(6,"Product Details"),t.qZA(),t.TgZ(7,"div",3)(8,"label",4),t._uU(9,"Product Name"),t.qZA(),t.TgZ(10,"input",5),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.name=o)}),t.qZA()(),t.TgZ(11,"div",3)(12,"label",4),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"textarea",6),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.description=o)}),t.qZA()(),t.TgZ(15,"div",7)(16,"div",8)(17,"label",4),t._uU(18,"Category"),t.qZA(),t.TgZ(19,"input",9),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.category=o)}),t.qZA()(),t.TgZ(20,"div",8)(21,"label",4),t._uU(22,"Brand"),t.qZA(),t.TgZ(23,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.brand=o)}),t.qZA()(),t.TgZ(24,"div",8)(25,"label",4),t._uU(26,"Origin"),t.qZA(),t.TgZ(27,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.origin=o)}),t.qZA()()()(),t.TgZ(28,"div",12)(29,"h4"),t._uU(30,"Pricing & Stock"),t.qZA(),t.TgZ(31,"div",7)(32,"div",13)(33,"label",4),t._uU(34,"Price"),t.qZA(),t.TgZ(35,"input",14),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.price=o)}),t.qZA()(),t.TgZ(36,"div",13)(37,"label",4),t._uU(38,"Discount Price"),t.qZA(),t.TgZ(39,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.discountPrice=o)}),t.qZA()(),t.TgZ(40,"div",13)(41,"label",4),t._uU(42,"Quantity"),t.qZA(),t.TgZ(43,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.quantity=o)}),t.qZA()(),t.TgZ(44,"div",13)(45,"label",4),t._uU(46,"Stock Status"),t.qZA(),t.TgZ(47,"select",17),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.product.stockStatus=o)}),t.TgZ(48,"option"),t._uU(49,"In Stock"),t.qZA(),t.TgZ(50,"option"),t._uU(51,"Out of Stock"),t.qZA()()()()(),t.TgZ(52,"div",12)(53,"h4"),t._uU(54,"Product Images"),t.qZA(),t.TgZ(55,"div",7)(56,"div",13),t._UZ(57,"img",18),t.TgZ(58,"input",19),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.updateMainImage(o))}),t.qZA()(),t.TgZ(59,"div",20)(60,"div",21),t.YNc(61,ht,4,1,"div",22),t.qZA(),t.TgZ(62,"input",23),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.addGalleryImage(o))}),t.qZA()()()(),t.TgZ(63,"div",12)(64,"h4"),t._uU(65,"Features"),t.qZA(),t.TgZ(66,"div",21),t.YNc(67,Zt,5,1,"div",22),t.qZA(),t.TgZ(68,"input",24),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.newFeature=o)}),t.qZA(),t.TgZ(69,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addFeature())}),t._uU(70,"Add Feature"),t.qZA()(),t.TgZ(71,"div",12)(72,"h4"),t._uU(73,"Tags"),t.qZA(),t.TgZ(74,"div",21),t.YNc(75,bt,5,1,"div",22),t.qZA(),t.TgZ(76,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.newTag=o)}),t.qZA(),t.TgZ(77,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addTag())}),t._uU(78,"Add Tag"),t.qZA()(),t.TgZ(79,"div",28)(80,"button",29),t._uU(81,"Delete Product"),t.qZA(),t.TgZ(82,"button",30),t._uU(83,"Save Changes"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.product.name),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(5),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.brand),t.xp6(4),t.Q6J("ngModel",e.product.origin),t.xp6(8),t.Q6J("ngModel",e.product.price),t.xp6(4),t.Q6J("ngModel",e.product.discountPrice),t.xp6(4),t.Q6J("ngModel",e.product.quantity),t.xp6(4),t.Q6J("ngModel",e.product.stockStatus),t.xp6(10),t.Q6J("src",e.apiUrl+e.product.mainImage.url,t.LSH),t.xp6(4),t.Q6J("ngForOf",e.product.galleryImages),t.xp6(6),t.Q6J("ngForOf",e.product.features),t.xp6(1),t.Q6J("ngModel",e.newFeature),t.xp6(7),t.Q6J("ngForOf",e.product.tags),t.xp6(1),t.Q6J("ngModel",e.newTag)}}let Ct=(()=>{const c=class{constructor(n,o){this.route=n,this.productservice=o,this.apiUrl=g.N.apiUrl,this.newFeature="",this.newTag=""}ngOnInit(){this.productId=this.route.snapshot.paramMap.get("id"),this.productservice.getProduct(this.productId).subscribe(n=>{this.product=n})}addFeature(){this.newFeature.trim()&&(this.product.features.push(this.newFeature),this.newFeature="")}removeFeature(n){this.product.features=this.product.features.filter(o=>o!==n)}addTag(){this.newTag.trim()&&(this.product.tags.push(this.newTag),this.newTag="")}removeTag(n){this.product.tags=this.product.tags.filter(o=>o!==n)}updateMainImage(n){const o=n.target.files[0];o&&console.log("Main Image Updated:",o)}addGalleryImage(n){const o=n.target.files;for(let i of o)console.log("Gallery Image Added:",i)}removeGalleryImage(n){this.product.galleryImages=this.product.galleryImages.filter(o=>o!==n)}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(l.gz),t.Y36(_.s))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-product-card"]],decls:1,vars:1,consts:[["class","container mt-4",4,"ngIf"],[1,"container","mt-4"],[1,"card","p-3"],[1,"mb-3"],[1,"form-label"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-md-4"],["type","text","name","category",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","brand",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","origin",1,"form-control",3,"ngModel","ngModelChange"],[1,"card","p-3","mt-3"],[1,"col-md-3"],["type","number","name","price",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","discountPrice",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","quantity",1,"form-control",3,"ngModel","ngModelChange"],["name","stockStatus",1,"form-select",3,"ngModel","ngModelChange"],["alt","Main Image",1,"img-thumbnail",3,"src"],["type","file",1,"form-control","mt-2",3,"change"],[1,"col-md-9"],[1,"d-flex","flex-wrap"],["class","me-2",4,"ngFor","ngForOf"],["type","file","multiple","",1,"form-control","mt-2",3,"change"],["type","text","name","newFeature","placeholder","Add Feature",1,"form-control","mt-2",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm","mt-2",3,"click"],["type","text","placeholder","Add Tag","name","newTag",1,"form-control","mt-2",3,"ngModel","ngModelChange"],[1,"btn","btn-secondary","btn-sm","mt-2",3,"click"],[1,"mt-3","text-end"],["type","button",1,"btn","btn-danger","me-2"],["type","submit",1,"btn","btn-success"],[1,"me-2"],["width","100","height","100",1,"img-thumbnail",3,"src"],[1,"btn","btn-sm","btn-danger","d-block","mt-1",3,"click"],[1,"badge","bg-primary","p-2"],[1,"btn","btn-sm","btn-danger","ms-1",3,"click"],[1,"badge","bg-secondary","p-2"]],template:function(o,i){1&o&&t.YNc(0,ft,84,15,"div",0),2&o&&t.Q6J("ngIf",i.product)},dependencies:[u.sg,u.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.JL,d.On,d.F]}),r})(),v=(()=>{const c=class{printMemo(n){return this.http.post(this.api+"/print",n,{responseType:"blob"})}executeMemo(n){return this.http.post(this.api+"/execute",n)}getAllMemo(n=0,o=100){return this.http.get(this.api+"?page="+n+"&size="+o)}saveMemo(n){return this.http.post(this.api,n)}constructor(n){this.http=n,this.api=g.N.apiUrl+"/memo"}nextMemoNumber(){return this.http.get(this.api+"/nextMemoNumber",{responseType:"text"})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.LFG(x.eN))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),r})();function xt(r,c){1&r&&(t.TgZ(0,"h1"),t._uU(1,"You cant access this page"),t.qZA())}const Tt=function(r){return{"bg-success":r}};function vt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"li",42),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.selectProduct(i))}),t.TgZ(1,"div"),t._UZ(2,"img",43),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.s9C("src",n.apiUrl+e.mainImage.url,t.LSH),t.xp6(1),t.Tol(t.VKq(9,Tt,n.isSelected(e))),t.xp6(1),t.gL8(" ",e.name,", brand : ",e.brand,", origin: ",e.origin,", price: ",e.price," discount Price: ",e.discountPrice," , Quantity: ",e.quantity," ")}}function At(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td",44)(2,"a",45),t._UZ(3,"img",46),t.TgZ(4,"ul",47)(5,"li")(6,"strong",48),t._uU(7,"Product Name:"),t.qZA(),t.TgZ(8,"span",49),t._uU(9),t.qZA()(),t.TgZ(10,"li")(11,"strong",48),t._uU(12,"Brand:"),t.qZA(),t.TgZ(13,"span",50),t._uU(14),t.qZA()(),t.TgZ(15,"li")(16,"strong",48),t._uU(17,"Origin:"),t.qZA(),t.TgZ(18,"span",51),t._uU(19),t.qZA()()()()(),t.TgZ(20,"td")(21,"input",52),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.price=o)}),t.qZA(),t._uU(22," discount Price:"),t.TgZ(23,"span",51),t._uU(24),t.qZA(),t._uU(25," regular Price:"),t.TgZ(26,"span",49),t._uU(27),t.qZA()(),t.TgZ(28,"td")(29,"input",52),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.quantity=o)}),t.qZA(),t._uU(30," Available Quantity:"),t.TgZ(31,"span",49),t._uU(32),t.qZA()(),t.TgZ(33,"td"),t._uU(34),t.ALo(35,"currency"),t.qZA(),t.TgZ(36,"td")(37,"button",37),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.removeItem(i))}),t._uU(38,"Remove"),t.qZA()()()}if(2&r){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.MGl("routerLink","/products/productDetails/",e.product.id,""),t.xp6(1),t.s9C("src",n.apiUrl+e.product.mainImage.url,t.LSH),t.xp6(6),t.Oqu(e.product.name),t.xp6(5),t.Oqu(e.product.brand),t.xp6(5),t.Oqu(e.product.origin),t.xp6(2),t.Q6J("ngModel",e.price),t.xp6(3),t.Oqu(e.product.discountPrice),t.xp6(3),t.hij(" ",e.product.price," "),t.xp6(2),t.Q6J("ngModel",e.quantity),t.xp6(3),t.hij(" ",e.product.quantity," "),t.xp6(2),t.Oqu(t.lcZ(35,11,e.price*e.quantity))}}function Mt(r,c){if(1&r&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const e=c.$implicit;t.xp6(1),t.lnq("",e.quantity," x ",e.product.name," at ",t.lcZ(2,3,e.price)," ")}}function yt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5,"Create a Sales Memo"),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Fill in the details below to create a memo for the buyer."),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"h4"),t._uU(11,"Memo Information"),t.qZA()(),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"span"),t._uU(16),t.qZA()(),t.TgZ(17,"div",11)(18,"span",12),t._uU(19),t.ALo(20,"date"),t.qZA()()(),t.TgZ(21,"div",9)(22,"div",13)(23,"div",14)(24,"span",15),t._uU(25,"Buyer Name"),t.qZA(),t.TgZ(26,"input",16),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.buyerName=o)}),t.qZA()()(),t.TgZ(27,"div",13)(28,"div",14)(29,"span",15),t._uU(30,"Service Charge"),t.qZA(),t.TgZ(31,"input",17),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.serviceCharge=o)}),t.qZA(),t.TgZ(32,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onServiceCharge(20))}),t._uU(33,"20"),t.qZA(),t.TgZ(34,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onServiceCharge(50))}),t._uU(35,"50"),t.qZA(),t.TgZ(36,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onServiceCharge(100))}),t._uU(37,"100"),t.qZA(),t.TgZ(38,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onServiceCharge(200))}),t._uU(39,"200"),t.qZA(),t.TgZ(40,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onServiceCharge(500))}),t._uU(41,"500"),t.qZA()()()(),t.TgZ(42,"div",9)(43,"div",13)(44,"div",14)(45,"span",15),t._uU(46,"Buyer Phone"),t.qZA(),t.TgZ(47,"input",19),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.buyerPhone=o)}),t.qZA()()(),t.TgZ(48,"div",13)(49,"div",14)(50,"span",15),t._uU(51,"Delivery Charge"),t.qZA(),t.TgZ(52,"input",20),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.deliveryCharge=o)}),t.qZA(),t.TgZ(53,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDeliveryCharge(60))}),t._uU(54,"60"),t.qZA(),t.TgZ(55,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDeliveryCharge(80))}),t._uU(56,"80"),t.qZA(),t.TgZ(57,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDeliveryCharge(110))}),t._uU(58,"110"),t.qZA(),t.TgZ(59,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDeliveryCharge(150))}),t._uU(60,"150"),t.qZA(),t.TgZ(61,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onDeliveryCharge(260))}),t._uU(62,"260"),t.qZA()()()(),t.TgZ(63,"div",9)(64,"div",13)(65,"div",14)(66,"span",15),t._uU(67,"Buyer Email"),t.qZA(),t.TgZ(68,"input",21),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.buyerEmail=o)}),t.qZA()()(),t.TgZ(69,"div",13)(70,"div",14)(71,"span",15),t._uU(72,"Discount"),t.qZA(),t.TgZ(73,"input",22),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.discount=o)}),t.qZA(),t.TgZ(74,"div",23)(75,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onRoundUp())}),t._uU(76,"Round Up"),t.qZA()()()()(),t.TgZ(77,"div",9)(78,"div",24)(79,"div",14)(80,"span",15),t._uU(81,"Buyer Address"),t.qZA(),t.TgZ(82,"input",25),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.buyerAddress=o)}),t.qZA()()()()()(),t.TgZ(83,"div",2)(84,"div",10)(85,"div",26)(86,"div",27)(87,"h4"),t._uU(88,"Product Search"),t.qZA()(),t.TgZ(89,"div",8)(90,"div",28)(91,"label",29),t._uU(92,"Search for Product"),t.qZA(),t.TgZ(93,"span",14)(94,"input",30),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchQuery=o)})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSearchInput())}),t.qZA(),t.TgZ(95,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearSearch())}),t._uU(96," Clear "),t.qZA()()(),t.TgZ(97,"ul",32),t.YNc(98,vt,5,11,"li",33),t.qZA()()()(),t.TgZ(99,"div",10)(100,"div",26)(101,"div",34)(102,"h4"),t._uU(103,"Items in Memo"),t.qZA()(),t.TgZ(104,"div",8)(105,"div",35)(106,"table",36)(107,"thead")(108,"tr")(109,"th"),t._uU(110,"Product"),t.qZA(),t.TgZ(111,"th"),t._uU(112,"Price"),t.qZA(),t.TgZ(113,"th"),t._uU(114,"Quantity"),t.qZA(),t.TgZ(115,"th"),t._uU(116,"Subtotal"),t.qZA(),t.TgZ(117,"th")(118,"button",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeAllItems())}),t._uU(119,"Remove All"),t.qZA()()()(),t.TgZ(120,"tbody"),t.YNc(121,At,39,13,"tr",38),t.qZA()()()()()()(),t.TgZ(122,"div",6)(123,"div",7)(124,"h4"),t._uU(125,"Memo Summary"),t.qZA()(),t.TgZ(126,"div",8)(127,"p")(128,"strong"),t._uU(129,"Buyer Name:"),t.qZA(),t._uU(130),t.qZA(),t.TgZ(131,"p")(132,"strong"),t._uU(133,"Email:"),t.qZA(),t._uU(134),t.qZA(),t.TgZ(135,"p")(136,"strong"),t._uU(137,"Phone:"),t.qZA(),t._uU(138),t.qZA(),t.TgZ(139,"p")(140,"strong"),t._uU(141,"Address:"),t.qZA(),t._uU(142),t.qZA(),t.TgZ(143,"h5",39),t._uU(144,"Items Purchased:"),t.qZA(),t.TgZ(145,"ul"),t.YNc(146,Mt,3,5,"li",38),t.qZA(),t.TgZ(147,"h5",39),t._uU(148),t.ALo(149,"currency"),t.qZA(),t.TgZ(150,"h5",39),t._uU(151),t.ALo(152,"currency"),t.qZA(),t.TgZ(153,"h5",39),t._uU(154),t.ALo(155,"currency"),t.qZA(),t.TgZ(156,"h5",39),t._uU(157),t.ALo(158,"currency"),t.qZA()()(),t.TgZ(159,"div",9)(160,"div",3)(161,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveMemo())}),t._uU(162,"Save Memo"),t.qZA()(),t.TgZ(163,"div",3)(164,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.executeMemo())}),t._uU(165,"Execute, Save and Print Memo"),t.qZA()(),t.TgZ(166,"div",3)(167,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printMemo())}),t._uU(168,"Print Memo"),t.qZA()(),t.TgZ(169,"div",3)(170,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printMemo())}),t._uU(171,"Draft Memo"),t.qZA()(),t.TgZ(172,"div",3)(173,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.demo())}),t._uU(174,"Demo Memo"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(16),t.hij("Memo Number: ",e.memoNumber,""),t.xp6(3),t.hij("Date: ",t.lcZ(20,21,e.memoDate),""),t.xp6(7),t.Q6J("ngModel",e.buyerName),t.xp6(5),t.Q6J("ngModel",e.serviceCharge),t.xp6(16),t.Q6J("ngModel",e.buyerPhone),t.xp6(5),t.Q6J("ngModel",e.deliveryCharge),t.xp6(16),t.Q6J("ngModel",e.buyerEmail),t.xp6(5),t.Q6J("ngModel",e.discount),t.xp6(9),t.Q6J("ngModel",e.buyerAddress),t.xp6(12),t.Q6J("ngModel",e.searchQuery),t.xp6(4),t.Q6J("ngForOf",e.searchSuggestions),t.xp6(23),t.Q6J("ngForOf",e.items),t.xp6(9),t.hij(" ",e.buyerName,""),t.xp6(4),t.hij(" ",e.buyerEmail,""),t.xp6(4),t.hij(" ",e.buyerPhone,""),t.xp6(4),t.hij(" ",e.buyerAddress,""),t.xp6(4),t.Q6J("ngForOf",e.items),t.xp6(2),t.hij("Service Charge: ",t.lcZ(149,23,e.serviceCharge),""),t.xp6(3),t.hij("Delivery Charge: ",t.lcZ(152,25,e.deliveryCharge),""),t.xp6(3),t.hij("Discount: ",t.lcZ(155,27,e.discount),""),t.xp6(3),t.hij("Total Amount: ",t.lcZ(158,29,e.totalAmount),"")}}let qt=(()=>{const c=class{constructor(n,o,i){this.memoService=n,this.productService=o,this.router=i,this.user=m.y.getUser(),this.apiUrl=g.N.apiUrl,this.memoNumber="0",this.memoDate=new Date,this.serviceCharge=0,this.deliveryCharge=0,this.discount=0,this.buyerName="",this.buyerEmail="",this.buyerPhone="",this.buyerAddress="",this.searchQuery="",this.searchSuggestions=[],this.items=[]}ngOnInit(){this.memoService.nextMemoNumber().subscribe(n=>{this.memoNumber=n})}isSeller(){return!(!this.user||!this.user.roles.map(n=>n.name).includes("ROLE_SELLER")&&!this.user.roles.map(n=>n.name).includes("ROLE_ADMIN"))}onSearchInput(){""===this.searchQuery?this.searchSuggestions=[]:this.productService.searchSellerProducts(this.searchQuery).subscribe(n=>{this.searchSuggestions=n.content})}isSelected(n){return this.items.some(o=>o.product.id===n.id)}selectProduct(n){this.isSelected(n)?this.items.filter(i=>i.product.id===n.id)[0].quantity++:this.items.push({product:n,quantity:1,price:n.discountPrice||n.price})}clearSearch(){this.searchQuery="",this.searchSuggestions=[]}removeItem(n){this.items=this.items.filter(o=>o!==n)}removeAllItems(){this.items=[]}get totalAmount(){return this.items.reduce((n,o)=>n+o.quantity*o.price,0)+this.serviceCharge+this.deliveryCharge-this.discount}onRoundUp(){let n=this.items.reduce((i,s)=>i+s.quantity*s.price,0)+this.serviceCharge+this.deliveryCharge,o=n<100?10:n<1e3?100:n<1e4?1e3:1e4;this.discount=n-Math.floor(n/o)*o}onServiceCharge(n){this.serviceCharge=n}onDeliveryCharge(n){this.deliveryCharge=n}demo(){this.buyerName="John Doe",this.buyerEmail="9i9ZU@example.com",this.buyerPhone="1234567890",this.buyerAddress="123 Main St, Anytown USA",this.serviceCharge=100,this.deliveryCharge=50,this.discount=10}printMemo(){this.memoService.printMemo(this.prepareMemo()).subscribe(n=>{const o=new Blob([n],{type:"text/html"}),i=window.URL.createObjectURL(o),s=document.createElement("iframe");s.style.display="none",s.src=i,document.body.appendChild(s),s.contentWindow?.print(),window.URL.revokeObjectURL(i)})}saveMemo(){if(this.buyerName&&this.buyerPhone&&this.totalAmount>0){let n=this.prepareMemo();this.memoService.saveMemo(n).subscribe(o=>{this.router.navigate(["/products/allMemo"])})}else alert("Please complete all sections before saving.")}executeMemo(){this.memoService.executeMemo(this.prepareMemo()).subscribe(n=>{n?this.printMemo():alert("Error executing memo")})}prepareMemo(){return{memoNumber:this.memoNumber,date:this.memoDate,buyerName:this.buyerName,buyerAddress:this.buyerAddress,buyerPhoneNumber:this.buyerPhone,buyerEmail:this.buyerEmail,buyerId:this.buyer?.id,subtotal:this.items.reduce((n,o)=>n+o.quantity*o.price,0),discount:this.discount,deliveryCharge:this.deliveryCharge,serviceCharge:this.serviceCharge,total:this.totalAmount,memoItems:this.items.map(n=>({productId:n.product.id,quantity:n.quantity,price:n.price}))}}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(v),t.Y36(_.s),t.Y36(l.F0))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-shop-memo"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container","mt-5"],[1,"row","mb-4"],[1,"col","text-center"],[1,"display-4","text-primary"],[1,"lead","text-muted"],[1,"card","mb-4"],[1,"card-header","bg-info","text-white"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"col-md-6","text-end"],[1,""],[1,"col-md-6","mb-3"],[1,"input-group"],[1,"input-group-text"],["type","text","id","buyerName","placeholder","Enter buyer's name","name","buyerName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","serviceCharge","placeholder","Enter service Charge","name","serviceCharge",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],["type","tel","id","buyerPhone","placeholder","Enter buyer's phone number","name","buyerPhone",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","deliveryCharge","placeholder","Enter delivery charge","name","deliveryCharge","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","buyerEmail","placeholder","Enter buyer's email","name","buyerEmail","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","discount","placeholder","Enter discount","name","discount","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2","d-md-block"],[1,"col-md-12","mb-3"],["type","text","id","buyerAddress","placeholder","Enter buyer's address","name","buyerAddress",1,"form-control",3,"ngModel","ngModelChange"],[1,"card"],[1,"card-header","bg-success","text-white"],[1,"form-group"],["for","productSearch"],["type","text","id","productSearch","name","productSearch","placeholder","Search product...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"btn","btn-outline-primary",3,"click"],[1,"list-group"],["class","list-group-item d-flex",3,"click",4,"ngFor","ngForOf"],[1,"card-header","bg-warning","text-white"],[1,"table-responsive","mt-4"],[1,"table","table-bordered"],[1,"btn","btn-danger","btn-sm",3,"click"],[4,"ngFor","ngForOf"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"click"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"list-group-item","d-flex",3,"click"],["alt","","width","50","height","50",3,"src"],[2,"display","flex","align-items","center"],[1,"d-flex","align-items-center","text-decoration-none",3,"routerLink"],["alt","","width","60","height","60",2,"margin-right","10px",3,"src"],[1,"list-unstyled","mb-0"],[1,"text-primary"],[1,"text-success"],[1,"text-warning"],[1,"text-danger"],["type","number",1,"form-control",3,"ngModel","ngModelChange"]],template:function(o,i){1&o&&(t.YNc(0,xt,2,0,"h1",0),t.YNc(1,yt,175,31,"div",0)),2&o&&(t.Q6J("ngIf",!i.isSeller()),t.xp6(1),t.Q6J("ngIf",i.isSeller()))},dependencies:[u.sg,u.O5,l.rH,d.Fj,d.wV,d.JJ,d.Q7,d.On,u.H9,u.uU]}),r})();var Ut=p(1446);function kt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",17),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.clicked(i))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"currency"),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"currency"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"currency"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"currency"),t.qZA()()}if(2&r){const e=c.$implicit;t.xp6(2),t.Oqu(e.memoNumber),t.xp6(2),t.Oqu(t.lcZ(5,12,e.date)),t.xp6(3),t.Oqu(e.buyerName),t.xp6(2),t.Oqu(e.buyerAddress),t.xp6(2),t.Oqu(e.buyerPhoneNumber),t.xp6(2),t.Oqu(e.buyerEmail),t.xp6(2),t.hij(" ",e.memoItems.length," "),t.xp6(2),t.Oqu(t.lcZ(18,14,e.subtotal)),t.xp6(3),t.Oqu(t.lcZ(21,16,e.discount)),t.xp6(3),t.Oqu(t.lcZ(24,18,e.deliveryCharge)),t.xp6(3),t.Oqu(t.lcZ(27,20,e.serviceCharge)),t.xp6(3),t.Oqu(t.lcZ(30,22,e.total))}}function Nt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,i=t.oxw(2);return t.KtG(i.onPageChange(o))}),t._uU(1),t.qZA()}if(2&r){const e=t.oxw().index;t.xp6(1),t.Oqu(e+1)}}function Jt(r,c){if(1&r&&(t.TgZ(0,"button",25),t._uU(1),t.qZA()),2&r){const e=t.oxw().index;t.xp6(1),t.Oqu(e+1)}}function wt(r,c){if(1&r&&(t.TgZ(0,"span"),t.YNc(1,Nt,2,1,"button",22),t.YNc(2,Jt,2,1,"button",23),t.qZA()),2&r){const e=c.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.page.pageable.pageNumber!==e),t.xp6(1),t.Q6J("ngIf",n.page.pageable.pageNumber===e)}}const St=function(){return[]};function Pt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(o.page.pageable.pageNumber-1))}),t._uU(3,"Previous"),t.qZA(),t.YNc(4,wt,3,2,"span",21),t.TgZ(5,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(o.page.pageable.pageNumber+1))}),t._uU(6,"Next"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("disabled",0===e.page.pageable.pageNumber),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,St).constructor(e.page.totalPages)),t.xp6(1),t.Q6J("disabled",e.page.pageable.pageNumber===e.page.totalPages-1)}}function It(r,c){if(1&r&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const e=c.$implicit;t.xp6(1),t.lnq("",e.quantity," x ",e.product.name," at ",t.lcZ(2,3,e.price)," ")}}function Qt(r,c){if(1&r&&(t.TgZ(0,"div",26)(1,"div",27)(2,"h4"),t._uU(3,"Memo Summary"),t.qZA()(),t.TgZ(4,"div",28)(5,"p")(6,"strong"),t._uU(7,"Buyer Name:"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"p")(10,"strong"),t._uU(11,"Email:"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p")(14,"strong"),t._uU(15,"Phone:"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"p")(18,"strong"),t._uU(19,"Address:"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"h5",29),t._uU(22,"Items Purchased:"),t.qZA(),t.TgZ(23,"ul"),t.YNc(24,It,3,5,"li",21),t.qZA(),t.TgZ(25,"p",29),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.TgZ(28,"p",29),t._uU(29),t.ALo(30,"currency"),t.qZA(),t.TgZ(31,"p",29),t._uU(32),t.ALo(33,"currency"),t.qZA(),t.TgZ(34,"h5",29),t._uU(35),t.ALo(36,"currency"),t.qZA()()()),2&r){const e=t.oxw();t.xp6(8),t.hij(" ",e.selectedMemo.buyerName,""),t.xp6(4),t.hij(" ",e.selectedMemo.buyerEmail,""),t.xp6(4),t.hij(" ",e.selectedMemo.buyerPhoneNumber,""),t.xp6(4),t.hij(" ",e.selectedMemo.buyerAddress,""),t.xp6(4),t.Q6J("ngForOf",e.selectedMemo.memoItems),t.xp6(2),t.hij("Service Charge: ",t.lcZ(27,9,e.selectedMemo.serviceCharge),""),t.xp6(3),t.hij("Delivery Charge: ",t.lcZ(30,11,e.selectedMemo.deliveryCharge),""),t.xp6(3),t.hij("Discount: ",t.lcZ(33,13,e.selectedMemo.discount),""),t.xp6(3),t.hij("Total Amount: ",t.lcZ(36,15,e.selectedMemo.total),"")}}const Ot=[{path:"",redirectTo:"allProducts",pathMatch:"full"},{path:"allProducts",component:F},{path:"addProduct",component:dt},{path:"productDetails/:id",component:K},{path:"cart",component:W},{path:"checkout",component:ot},{path:"seller/:id",component:ut},{path:"memo/:id",component:_t},{path:"shopMemo",component:qt},{path:"card/:id",component:Ct},{path:"allMemo",component:(()=>{const c=class{constructor(n){this.memoService=n,this.allMemo=[],this.apiUrl=g.N.apiUrl}ngOnInit(){this.loadMemos(0)}clicked(n){this.selectedMemo=n;let o=document.getElementById("modalId");o&&new Ut.u_(o).show()}onPageChange(n){this.loadMemos(n)}loadMemos(n){this.memoService.getAllMemo(n).subscribe(o=>{this.page=o,this.allMemo=this.page.content})}};let r=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(v))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-all-memo"]],decls:48,vars:4,consts:[[1,"table-responsive"],[1,"table","table-striped","table-hover","table-borderless","align-middle"],[1,""],[1,"table-group-divider"],[3,"click",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-2",4,"ngIf"],["id","modalId","tabindex","-1","role","dialog","aria-labelledby","modalTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-scrollable","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalTitleId",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["class","card mb-4",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],[3,"click"],[1,"d-flex","justify-content-center","mt-2"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-success",3,"disabled","click"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],["type","button","class","btn btn-success","disabled","",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button","disabled","",1,"btn","btn-success"],[1,"card","mb-4"],[1,"card-header","bg-info","text-white"],[1,"card-body"],[1,"mt-4"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"caption"),t._uU(4," All_Memo "),t.qZA(),t.TgZ(5,"tr")(6,"th"),t._uU(7,"Memo Number"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Date"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Buyer Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Buyer Address"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Buyer Phone Number"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Buyer Email"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Item Count"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Subtotal"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Discount"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Delivery Charge"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Service Charge"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Total"),t.qZA()()(),t.TgZ(30,"tbody",3),t.YNc(31,kt,31,24,"tr",4),t.qZA(),t._UZ(32,"tfoot"),t.qZA()(),t.YNc(33,Pt,7,4,"div",5),t.TgZ(34,"div",6)(35,"div",7)(36,"div",8)(37,"div",9)(38,"h5",10),t._uU(39),t.qZA(),t._UZ(40,"button",11),t.qZA(),t.TgZ(41,"div",12),t.YNc(42,Qt,37,17,"div",13),t.qZA(),t.TgZ(43,"div",14)(44,"button",15),t._uU(45," Close "),t.qZA(),t.TgZ(46,"button",16),t._uU(47,"Save"),t.qZA()()()()()),2&o&&(t.xp6(31),t.Q6J("ngForOf",i.allMemo),t.xp6(2),t.Q6J("ngIf",i.page),t.xp6(6),t.hij(" Memo Number : ",null==i.selectedMemo?null:i.selectedMemo.memoNumber," "),t.xp6(3),t.Q6J("ngIf",i.selectedMemo))},dependencies:[u.sg,u.O5,u.H9,u.uU]}),r})()}];let Ft=(()=>{const c=class{};let r=c;return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[l.Bz.forChild(Ot),l.Bz]}),r})(),Ht=(()=>{const c=class{};let r=c;return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.ez,Ft,d.u5,d.UX]}),r})()}}]);