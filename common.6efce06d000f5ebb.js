"use strict";(self.webpackChunkSouthDhakaCyclists=self.webpackChunkSouthDhakaCyclists||[]).push([[592],{6658:(X,b,i)=>{i.d(b,{n:()=>z});var x=i(4482),v=i(5403),E=i(4671),D=i(9751),S=i(727);class C extends S.w0{constructor(e,s){super()}schedule(e,s=0){return this}}const u={setInterval(n,e,...s){const{delegate:t}=u;return t?.setInterval?t.setInterval(n,e,...s):setInterval(n,e,...s)},clearInterval(n){const{delegate:e}=u;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var F=i(8737);const y={now:()=>(y.delegate||Date).now(),delegate:void 0};class a{constructor(e,s=a.now){this.schedulerActionCtor=e,this.now=s}schedule(e,s=0,t){return new this.schedulerActionCtor(this,e).schedule(t,s)}}a.now=y.now;const L=new class U extends a{constructor(e,s=a.now){super(e,s),this.actions=[],this._active=!1}flush(e){const{actions:s}=this;if(this._active)return void s.push(e);let t;this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=s.shift());if(this._active=!1,t){for(;e=s.shift();)e.unsubscribe();throw t}}}(class R extends C{constructor(e,s){super(e,s),this.scheduler=e,this.work=s,this.pending=!1}schedule(e,s=0){var t;if(this.closed)return this;this.state=e;const r=this.id,l=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(l,r,s)),this.pending=!0,this.delay=s,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(l,this.id,s),this}requestAsyncId(e,s,t=0){return u.setInterval(e.flush.bind(e,this),t)}recycleAsyncId(e,s,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return s;null!=s&&u.clearInterval(s)}execute(e,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(e,s);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,s){let r,t=!1;try{this.work(e)}catch(l){t=!0,r=l||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:s}=this,{actions:t}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(t,this),null!=e&&(this.id=this.recycleAsyncId(s,e,null)),this.delay=null,super.unsubscribe()}}});var N=i(3532);var P=i(8421);function p(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:s=1/0,delay:t,resetOnSuccess:r=!1}=e;return s<=0?E.y:(0,x.e)((l,o)=>{let c,d=0;const f=()=>{let w=!1;c=l.subscribe((0,v.x)(o,h=>{r&&(d=0),o.next(h)},void 0,h=>{if(d++<s){const g=()=>{c?(c.unsubscribe(),c=null,f()):w=!0};if(null!=t){const G="number"==typeof t?function K(n=0,e,s=L){let t=-1;return null!=e&&((0,N.K)(e)?s=e:t=e),new D.y(r=>{let l=function V(n){return n instanceof Date&&!isNaN(n)}(n)?+n-s.now():n;l<0&&(l=0);let o=0;return s.schedule(function(){r.closed||(r.next(o++),0<=t?this.schedule(void 0,t):r.complete())},l)})}(t):(0,P.Xf)(t(h,d)),A=(0,v.x)(o,()=>{A.unsubscribe(),g()},()=>{o.complete()});G.subscribe(A)}else g()}else o.error(h)})),w&&(c.unsubscribe(),c=null,f())};f()})}var I=i(262),$=i(2843),M=i(2347),m=i(8256),j=i(529);let z=(()=>{const e=class{constructor(t){this.httpClient=t,this.apiURL=M.N.apiUrl+"/file"}uploadVideo(t){const r=new FormData;return r.append("video",t,t.name),this.httpClient.post(this.apiURL+"/uploadVideo",r).pipe(p(1),(0,I.K)(this.handleError))}uploadImage(t){const r=new FormData;return r.append("image",t,t.name),this.httpClient.post(this.apiURL+"/uploadImage",r).pipe(p(1),(0,I.K)(this.handleError))}handleError(t){let r="An unknown error occurred!";return r=t.error instanceof ErrorEvent?`Error: ${t.error.message}`:`Error Code: ${t.status}\nMessage: ${t.message}`,(0,$._)(()=>new Error(r))}};let n=e;return e.\u0275fac=function(r){return new(r||e)(m.LFG(j.eN))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})()}}]);